/* SVG Icon Coloring
 * This stylesheet colors the monochrome SVG icons based on context and theme
 * Simplified to use direct CSS variables instead of complex filters
 */

/* Base icon styling */
.icon-svg {
  color: currentColor; /* Default: inherit from parent */
  width: 32px;
  height: 32px;
  display: inline-block;
  vertical-align: middle;
}

/* Theme-based coloring for navigation icons */
[data-theme="light"] .theme-toggle svg,
[data-theme="light"] .animation-toggle svg,
[data-theme="light"] .settings-toggle svg,
[data-theme="light"] .nav-link svg,
[data-theme="light"] .section-toggle svg {
  color: var(--assistant-color, #192b91);
}

[data-theme="dark"] .theme-toggle svg,
[data-theme="dark"] .animation-toggle svg,
[data-theme="dark"] .settings-toggle svg,
[data-theme="dark"] .nav-link svg,
[data-theme="dark"] .section-toggle svg {
  color: var(--accent-color, #ffc400);
}

/* Speaker-specific coloring - Simplified approach using CSS variables */
.message[data-speaker="user"] svg,
.message[data-speaker="user"] img[src$=".svg"],
.message[data-color-key="user"] svg,
.message[data-color-key="user"] img[src$=".svg"] {
  color: var(--user-color, #ffc400);
}

.message[data-speaker="agent"] svg,
.message[data-speaker="agent"] img[src$=".svg"],
.message[data-speaker="assistant"] svg,
.message[data-speaker="assistant"] img[src$=".svg"],
.message[data-speaker="test"] svg,
.message[data-speaker="test"] img[src$=".svg"],
.message[data-color-key="assistant"] svg,
.message[data-color-key="assistant"] img[src$=".svg"] {
  color: var(--assistant-color, #192b91);
}

.message[data-speaker="speakerc"] svg,
.message[data-speaker="speakerc"] img[src$=".svg"],
.message[data-color-key="speakerc"] svg,
.message[data-color-key="speakerc"] img[src$=".svg"] {
  color: var(--accentC-color, #e63946);
}

.message[data-speaker="speakerd"] svg,
.message[data-speaker="speakerd"] img[src$=".svg"],
.message[data-color-key="speakerd"] svg,
.message[data-color-key="speakerd"] img[src$=".svg"] {
  color: var(--accentD-color, #2a9d8f);
}

.message[data-speaker="speakere"] svg,
.message[data-speaker="speakere"] img[src$=".svg"],
.message[data-color-key="speakere"] svg,
.message[data-color-key="speakere"] img[src$=".svg"] {
  color: var(--accentE-color, #8338ec);
}

/* Add support for additional accent colors */
.message[data-speaker="speakerf"] svg,
.message[data-speaker="speakerf"] img[src$=".svg"],
.message[data-color-key="speakerf"] svg,
.message[data-color-key="speakerf"] img[src$=".svg"] {
  color: var(--accentF-color, #34a853);
}

.message[data-speaker="speakerg"] svg,
.message[data-speaker="speakerg"] img[src$=".svg"],
.message[data-color-key="speakerg"] svg,
.message[data-color-key="speakerg"] img[src$=".svg"] {
  color: var(--accentG-color, #000000);
}

.message[data-speaker="random"] svg,
.message[data-speaker="random"] img[src$=".svg"] {
  color: var(--accentC-color, #e63946);
}

.message[data-color-key="generic"] svg,
.message[data-color-key="generic"] img[src$=".svg"] {
  color: var(--generic-color, #909090);
}

/* Default coloring for any other speakers */
.message:not([data-color-key]) svg,
.message:not([data-color-key]) img[src$=".svg"] {
  color: var(--generic-color, #909090);
}

/* Apply speaker color to message icon masks */
.message::before {
  content: '';
  background-color: var(--speaker-color, currentColor);
}

/* Fix for avatar images - explicitly exclude them from coloring */
.message img.avatar-image {
  filter: none !important;
  color: initial !important;
}

/* Define speaker-specific colors as CSS variables based on data-color-key */
.message[data-color-key="user"] {
  --speaker-color: var(--user-color, #ffc400);
}

.message[data-color-key="assistant"] {
  --speaker-color: var(--assistant-color, #192b91);
}

.message[data-color-key="speakerc"] {
  --speaker-color: var(--accentC-color, #e63946);
}

.message[data-color-key="speakerd"] {
  --speaker-color: var(--accentD-color, #2a9d8f);
}

.message[data-color-key="speakere"] {
  --speaker-color: var(--accentE-color, #8338ec);
}

.message[data-color-key="speakerf"] {
  --speaker-color: var(--accentF-color, #34a853);
}

.message[data-color-key="speakerg"] {
  --speaker-color: var(--accentG-color, #000000);
}

.message[data-color-key="generic"] {
  --speaker-color: var(--generic-color, #909090);
}

/* Maintain old data-speaker colors for compatibility */
.message[data-speaker="user"] {
  --speaker-color: var(--user-color, #ffc400);
}

.message[data-speaker="agent"],
.message[data-speaker="assistant"],
.message[data-speaker="test"] {
  --speaker-color: var(--assistant-color, #192b91);
}

.message[data-speaker="speakerc"] {
  --speaker-color: var(--accentC-color, #e63946);
}

.message[data-speaker="speakerd"] {
  --speaker-color: var(--accentD-color, #2a9d8f);
}

.message[data-speaker="speakere"] {
  --speaker-color: var(--accentE-color, #8338ec);
}

.message[data-speaker="speakerf"] {
  --speaker-color: var(--accentF-color, #34a853);
}

.message[data-speaker="speakerg"] {
  --speaker-color: var(--accentG-color, #000000);
}

.message[data-speaker="random"] {
  --speaker-color: var(--accentC-color, #e63946);
}

/* For any other speakers, use the generic color */
.message:not([data-color-key]):not([data-speaker="user"]):not([data-speaker="agent"]):not([data-speaker="assistant"]):not([data-speaker="test"]):not([data-speaker="speakerc"]):not([data-speaker="speakerd"]):not([data-speaker="speakere"]):not([data-speaker="speakerf"]):not([data-speaker="speakerg"]):not([data-speaker="random"]) {
  --speaker-color: var(--generic-color, #909090);
}

/* Button hover states */
.theme-toggle:hover svg,
.animation-toggle:hover svg,
.settings-toggle:hover svg,
.nav-link:hover svg,
.section-toggle:hover svg {
  filter: brightness(1.2);
}

/* Active/selected states */
.nav-link.active svg,
.section-toggle[aria-expanded="true"] svg {
  filter: drop-shadow(0 0 2px currentColor);
}

/* Icon size variations */
.icon-sm {
  width: 16px;
  height: 16px;
}

.icon-md {
  width: 24px;
  height: 24px;
}

.icon-lg {
  width: 32px;
  height: 32px;
}

.icon-xl {
  width: 48px;
  height: 48px;
}

/* Transitions for smooth color changes */
.icon-svg,
img[src$=".svg"] {
  transition: color var(--hover-transition-duration, 0.3s) var(--hover-transition-timing, cubic-bezier(0.19, 1, 0.22, 1));
}

/* Icon styling for various color schemes */
.icon-colored {
  color: var(--accent-color); /* Set the default fill color to accent color */
  /* Add transitions for smooth color changes */
  transition: color var(--hover-transition-duration, 0.3s) var(--hover-transition-timing, cubic-bezier(0.19, 1, 0.22, 1));
} 